# 新移动端文档扫描项目调研报告

**调研日期**: 2026-02-26  
**调研目的**: 寻找替代老旧的 `react-native-document-scanner` 项目的现代化移动端扫描方案

---

## 📋 调研背景

原有的 `react-native-document-scanner` 项目存在以下问题：
- 项目非常老旧（peerDependencies 指定 react-native 0.49.3，2017 年版本）
- 与现代 React Native 0.73.0 和 AGP 8.6.1 存在严重版本兼容性问题
- OpenCV 3.1.0 库与现代 Android 构建工具链存在根本性兼容性问题
- 无法成功构建可运行的 APK

---

## 🔍 推荐项目列表

### 1. react-native-live-detect-edges ⭐⭐⭐⭐⭐

**项目信息**:
- **GitHub**: https://github.com/loijwdev/react-native-live-detect-edges
- **创建时间**: 2026-01-13（非常新！）
- **最后更新**: 2026-02-11
- **Stars**: 4
- **语言**: Kotlin, TypeScript
- **License**: MIT

**技术栈**:
- React Native (支持最新 0.73+ 版本)
- TypeScript (类型安全)
- 原生模块：iOS (Swift/Obj-C), Android (Kotlin)

**核心功能**:
- ✅ 实时边缘检测：从摄像头 feed 中实时检测文档边界
- ✅ 跨平台支持：iOS 和 Android 完全支持
- ✅ 高质量捕获：捕获高分辨率文档图像
- ✅ 透视校正：自动裁剪和扭曲检测到的文档为矩形
- ✅ 可定制 UI：可自定义覆盖颜色、描边宽度等
- ✅ 手动裁剪功能：支持拖拽角点进行手动裁剪

**优点**:
1. **项目非常新**：2026 年 1 月创建，使用最新技术和最佳实践
2. **无 OpenCV 依赖**：使用原生 Vision/ML Kit API，避免兼容性问题
3. **TypeScript 支持**：包含完整的类型定义
4. **活跃维护**：最近刚更新
5. **MIT 许可证**：可自由使用和修改
6. **示例完整**：提供完整的示例应用，包括拖拽裁剪 UI

**缺点**:
1. Stars 较少（4 个），社区验证不足
2. 相对较新，可能存在未知 bug

**推荐指数**: ⭐⭐⭐⭐⭐ (首选推荐)

---

### 2. ScannerFlow-Document-Capture-And-Archive-Mobile-App ⭐⭐⭐⭐

**项目信息**:
- **GitHub**: https://github.com/chirag127/ScannerFlow-Document-Capture-And-Archive-Mobile-App
- **创建时间**: 2025-03-04
- **最后更新**: 2026-01-14
- **Stars**: 1
- **语言**: TypeScript
- **License**: CC BY-NC 4.0 (非商业许可)

**技术栈**:
- React Native + Expo
- TypeScript 6.x (Strict Mode)
- Feature-Sliced Design (FSD) 架构
- Biome (代码检查)
- Vitest (测试)

**核心功能**:
- ✅ 跨平台：iOS 和 Android 单一代码库
- ✅ 高保真扫描：高级图像处理
- ✅ OCR 集成：设备端或云端 OCR
- ✅ 数字归档：组织、标记和搜索扫描文档
- ✅ 现代架构：Feature-Sliced Design

**优点**:
1. **架构优秀**：采用 Feature-Sliced Design，专业级架构
2. **Expo 支持**：开发体验好，部署简单
3. **TypeScript 严格模式**：代码质量高
4. **生产就绪**：按照 FAANG 级工程标准构建

**缺点**:
1. **CC BY-NC 4.0 许可**：仅限非商业使用
2. Stars 较少（1 个）
3. 可能过于复杂，学习曲线陡峭

**推荐指数**: ⭐⭐⭐⭐ (架构参考)

---

### 3. capex (Flutter) ⭐⭐⭐⭐

**项目信息**:
- **GitHub**: https://github.com/AxeMello/capex
- **创建时间**: 2026-01-31
- **最后更新**: 2026-02-12
- **Stars**: 55
- **语言**: Dart (Flutter)
- **License**: 未明确

**技术栈**:
- Flutter (Dart)
- camera 包
- Google ML Kit (OCR)
- Google Sheets API

**核心功能**:
- ✅ 多页扫描：每次扫描最多 4 张照片
- ✅ 设备端 OCR：使用 Google ML Kit
- ✅ AI 解析：将 OCR 文本转换为结构化 JSON
- ✅ Google Sheets 导出
- ✅ 应用内 Sheets 查看器

**优点**:
1. **Flutter 跨平台**：一套代码，多端运行
2. **Google ML Kit**：成熟的 OCR 解决方案
3. **Stars 较多**：55 个 Stars，有一定社区认可
4. **功能完整**：从扫描到数据导出完整流程

**缺点**:
1. Flutter 技术栈，如果团队主要使用 React Native 需要学习
2. 依赖 Google 服务

**推荐指数**: ⭐⭐⭐⭐ (Flutter 团队首选)

---

### 4. smart-doc-scanner (Flutter + FastAPI) ⭐⭐⭐⭐

**项目信息**:
- **GitHub**: https://github.com/arqam001/smart-doc-scanner
- **创建时间**: 2026-01-22
- **最后更新**: 2026-01-31
- **Stars**: 3
- **语言**: Dart, Python
- **License**: 未明确

**技术栈**:
- **前端**: Flutter (MVVM 架构)
- **后端**: FastAPI (Python)
- **OCR**: Tesseract + OpenCV 预处理
- **NLP**: spaCy + 规则匹配

**核心功能**:
- ✅ 相机捕获/图库上传
- ✅ 图像和 PDF 上传处理
- ✅ OCR 管道（Tesseract + OpenCV）
- ✅ NLP 实体提取
- ✅ 结构化 JSON 输出
- ✅ 离线缓存

**优点**:
1. **全栈方案**：包含完整的前后端
2. **AI 增强**：NLP 实体提取功能
3. **MVVM 架构**：清晰的移动架构
4. **离线支持**：本地缓存已处理文档

**缺点**:
1. 需要维护后端服务
2. 相对复杂，部署成本高

**推荐指数**: ⭐⭐⭐⭐ (需要 AI 解析场景)

---

### 5. example-android-camera-scanner (Android 原生) ⭐⭐⭐⭐

**项目信息**:
- **GitHub**: https://github.com/aashari/example-android-camera-scanner
- **创建时间**: 2018-04-28
- **最后更新**: 2026-01-27
- **Stars**: 116
- **语言**: Java, Kotlin
- **License**: 未明确

**技术栈**:
- Android 原生
- OpenCV
- 相机预览

**核心功能**:
- ✅ 边缘检测
- ✅ 透视校正
- ✅ 图像增强
- ✅ OCR 集成

**优点**:
1. **Stars 最多**：116 个 Stars，社区验证充分
2. **最近有更新**：2026 年 1 月还在更新
3. **OpenCV 实现**：成熟的计算机视觉库
4. **示例完整**：包含完整的实现示例

**缺点**:
1. 仅支持 Android
2. 仍有 OpenCV 依赖（但项目维护良好）

**推荐指数**: ⭐⭐⭐⭐ (Android 原生参考)

---

### 6. LiveEdgeDetection (Android 原生) ⭐⭐⭐

**项目信息**:
- **GitHub**: https://github.com/adityaarora1/LiveEdgeDetection
- **创建时间**: 2018-02-09
- **最后更新**: 2026-02-14
- **Stars**: 372
- **语言**: Java
- **License**: 未明确

**技术栈**:
- Android 原生
- OpenCV

**核心功能**:
- ✅ 实时文档检测
- ✅ 4 个边缘检测
- ✅ 透视变换
- ✅ 手动调整裁剪

**优点**:
1. **Stars 最多**：372 个 Stars，最广泛使用
2. **最近有更新**：2026 年 2 月还在更新
3. **专注边缘检测**：功能专一

**缺点**:
1. 仅支持 Android
2. OpenCV 依赖（但维护良好）

**推荐指数**: ⭐⭐⭐ (Android 原生备选)

---

## 📊 项目对比表

| 项目 | 技术栈 | 平台 | Stars | 最后更新 | OpenCV 依赖 | 推荐场景 |
|------|--------|------|-------|----------|-------------|----------|
| react-native-live-detect-edges | React Native | iOS+Android | 4 | 2026-02 | ❌ 无 | **首选推荐** |
| ScannerFlow | React Native+Expo | iOS+Android | 1 | 2026-01 | ❌ 无 | 架构参考 |
| capex | Flutter | iOS+Android | 55 | 2026-02 | ❌ 无 | Flutter 团队 |
| smart-doc-scanner | Flutter+FastAPI | iOS+Android | 3 | 2026-01 | ✅ 后端 | AI 解析需求 |
| example-android-camera-scanner | Android 原生 | Android | 116 | 2026-01 | ✅ | Android 原生 |
| LiveEdgeDetection | Android 原生 | Android | 372 | 2026-02 | ✅ | Android 原生备选 |

---

## 🎯 最终推荐

### 首选方案：react-native-live-detect-edges

**推荐理由**:
1. **技术栈匹配**：React Native，与现有项目技术栈一致
2. **无 OpenCV 依赖**：使用原生 Vision/ML Kit API，避免兼容性问题
3. **项目最新**：2026 年 1 月创建，使用最新最佳实践
4. **功能完整**：实时边缘检测 + 手动裁剪 + 透视校正
5. **TypeScript 支持**：类型安全，开发体验好
6. **MIT 许可**：可自由使用和修改

**集成步骤**:
```bash
npm install react-native-live-detect-edges
cd ios && pod install
```

**基本用法**:
```tsx
import { LiveDetectEdgesView, takePhoto } from 'react-native-live-detect-edges';

// 扫描视图
<LiveDetectEdgesView
  style={{ flex: 1 }}
  overlayColor="rgba(0, 255, 0, 0.5)"
  overlayStrokeWidth={4}
/>

// 捕获并自动裁剪
const result = await takePhoto();
console.log('Cropped Image:', result.image.uri);
```

---

### 备选方案

1. **如果团队使用 Flutter**: 选择 `capex` 或 `smart-doc-scanner`
2. **如果只需要 Android**: 选择 `LiveEdgeDetection` (372 Stars，最成熟)
3. **如果需要参考架构**: 参考 `ScannerFlow` 的 Feature-Sliced Design

---

## 📝 下一步行动

1. **克隆并测试** `react-native-live-detect-edges` 示例应用
2. **验证兼容性**：在目标设备和系统版本上测试
3. **集成到现有项目**：替换老旧的 `react-native-document-scanner`
4. **更新 TODO 列表**：标记旧项目替换任务

---

## 📌 注意事项

1. **权限配置**：需要在 iOS 的 Info.plist 和 Android 的 AndroidManifest.xml 中添加相机权限
2. **原生依赖**：iOS 需要安装 CocoaPods，Android 需要配置 NDK
3. **测试覆盖**：建议在多种设备和光照条件下测试边缘检测效果
