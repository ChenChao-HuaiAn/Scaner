# AI错误记录

## 错误描述
在分析根目录文件结构时，忽略了.gitignore文件中"忽略所有文件(*)"规则的影响，导致无法通过Git相关工具检测到未跟踪的文件夹。

## 具体位置
根目录下的MobileDocumentScanner文件夹（由于.gitignore规则被忽略）

## 相关任务内容
MobileDocumentScanner目录清理

## 错误原因
1. 过度依赖list_files等Git相关工具来检查文件系统状态
2. 没有充分考虑.gitignore规则对文件可见性的影响
3. 在项目开发过程中创建了未使用的测试项目但没有及时清理

## 改进措施
1. 在分析文件系统时，要同时考虑Git跟踪状态和实际文件系统状态
2. 对于关键的文件存在性验证，应使用直接的文件系统命令（如dir、ls）而不是仅依赖Git工具
3. 在项目开发过程中创建的临时或测试项目应及时清理，避免项目结构混乱
4. 建立项目清理检查清单，在每次任务结束时确认是否有冗余文件需要删除

## 错误描述
分支任务结束后，未将todo列表标记完成。

## 具体位置
TODO/onlyoffice-opencv-scanner-todo.md:44-48

## 相关任务内容
#### OnlyOffice环境搭建
- [ ] 克隆OnlyOffice/DocumentServer仓库
- [ ] 搭建本地开发环境（Docker）
- [ ] 验证基本文档编辑功能
- [ ] 熟悉OnlyOffice插件开发文档

## 错误原因
在完成分支任务后，没有及时更新TODO列表的状态，导致任务状态不准确，影响项目进度跟踪。

## 改进措施
1. 在每次完成分支任务后，必须立即更新对应的TODO列表
2. 建立检查清单，确保所有相关文档都已更新
3. 在提交代码前，验证TODO列表的准确性

## 错误描述
任务结束，未及时将本轮对话总结记录在memory.md文件里。

## 错误原因
在完成任务后，没有按照项目规范将对话总结记录到memory.md文件中，导致项目历史记录不完整。

## 改进措施
1. 在每次任务结束时，必须创建或更新memory.md文件
2. 确保memory.md文件包含最近的50次任务总结
3. 建立任务完成检查清单，包括更新memory.md

## 错误描述
结束前未更新"memory.md"文档。任务开始时，未先读取"memory.md"、"lessons.md"文档。

## 错误原因
在任务开始时没有按照项目规范先读取memory.md和lessons.md文档，导致不了解之前的错误记录和项目进展。在任务结束时也没有更新memory.md文档，违反了项目规范。

## 改进措施
1. 在每次任务开始时，必须先读取memory.md和lessons.md文档
2. 在任务结束时，必须更新memory.md文档，记录本次任务总结
3. 建立任务开始和结束的检查清单，确保遵守项目规范

## 错误描述
未优先使用GitHub上现成的开源项目，而是重复开发相同功能。

## 错误原因
在开始任务时，虽然看到了TODO列表中提到要复用GitHub项目，但没有直接使用现有的Document-Scanner-OpenCV项目，而是重新编写了类似的代码。

## 改进措施
1. 严格遵循TODO列表中的复用策略，优先使用现有的开源项目
2. 在开始任何开发工作前，先确认是否有现成的解决方案可以复用
3. 只有在现有项目无法满足需求时，才考虑自定义开发
4. 充分利用开源社区的成果，避免重复造轮子

## 错误描述
直接将github项目克隆到"Source"目录里了，没有保持项目文档的纯洁性。应该将github项目直接克隆到项目根目录。

## 错误原因
在克隆react-native-document-scanner项目时，错误地将其放入了Source目录，而根据项目规范，GitHub克隆的项目应该直接放在项目根目录，以保持项目文档的纯洁性。

## 改进措施
1. 严格遵守项目规范：GitHub克隆的项目直接放在项目根目录
2. Source目录仅用于存放自研代码和修改后的代码
3. 在执行克隆操作前，先确认目标目录是否符合项目规范
4. 建立检查清单，确保目录结构符合项目要求

## 错误描述
使用list_files工具时没有彻底、仔细地查找目录和文件，导致错误地认为项目根目录没有react-native-document-scanner目录。

## 错误原因
在使用list_files工具进行非递归目录列表时，可能由于工具限制或缓存问题，没有显示所有存在的目录。在分析问题时过于依赖不完整的工具输出，而没有进行更全面的验证。

## 改进措施
1. 在使用任何文件查找工具时，要进行多次验证，使用不同的方法确认结果
2. 当工具输出与实际情况不符时，要深入调查工具的限制和可能的问题
3. 对于关键的路径和文件存在性验证，要使用多种方式交叉验证
4. 在做出结论前，确保已经彻底、仔细地检查了所有相关信息

## 错误描述
在分析React Native项目构建问题时，没有充分考虑版本兼容性问题，导致花费大量时间调试路径配置，而忽略了根本的版本不兼容问题。

## 错误原因
react-native-document-scanner是一个非常老的项目（peerDependencies指定react-native 0.49.3），而主项目使用的是react-native 0.73.0和AGP 8.6.1，这种巨大的版本差异导致了构建失败。

## 改进措施
1. 在集成第三方库时，首先要检查版本兼容性
2. 对于老版本的库，要考虑是否需要寻找替代方案或进行重大修改
3. 在调试构建问题时，要同时考虑路径配置和版本兼容性两个方面
4. 建立版本兼容性检查清单，在项目开始时就验证所有依赖的兼容性

## 错误描述
OpenCV 3.1.0 库与现代Android构建工具链（AGP 7.4.2+）存在严重兼容性问题，导致dexing过程中的NullPointerException，无法成功构建APK。

## 错误原因
OpenCV 3.1.0 是一个非常老的版本（2016年发布），其二进制库文件与现代D8 dex编译器不兼容。即使修复了所有Java代码层面的兼容性问题，底层C++库的ABI兼容性问题仍然无法解决。

## 改进措施
1. 在选择计算机视觉库时，优先选择维护活跃、支持现代Android版本的库
2. 考虑使用纯JavaScript实现的文档边缘检测方案，避免原生库兼容性问题
3. 如果必须使用OpenCV，应选择4.x版本并确保与目标Android版本兼容
4. 在项目初期就验证所有依赖库的构建兼容性，避免后期发现无法解决的底层兼容性问题

## 错误描述
直接将 github 项目克隆进 Source 目录里了，有违项目规定。任务完成时，未及时更新 memory.md。

## 具体位置
Source/react-native-live-detect-edges (已删除)

## 相关任务内容
移动端文档扫描库替换 - react-native-live-detect-edges 集成

## 错误原因
1. 在克隆 react-native-live-detect-edges 项目时，错误地将其克隆到 Source 目录下，而根据项目规范，GitHub 克隆的项目应该直接放在项目根目录，Source 目录仅用于存放自研代码和修改后的代码。
2. 在任务完成后，没有及时更新 memory.md 文件记录本次任务总结，违反了项目规范。

## 改进措施
1. 严格遵守项目规范：GitHub 克隆的项目直接放在项目根目录，Source 目录仅存放自研代码
2. 在执行克隆操作前，先确认目标目录是否符合项目规范
3. 在每次任务结束时，必须立即更新 memory.md 文件，记录任务总结
4. 建立任务完成检查清单，包括更新 memory.md 和 lessons.md
5. 对于 npm 安装的库，应直接使用 npm install 而不是手动克隆

## 错误描述
在集成 react-native-live-detect-edges 库时，没有充分考虑 React Native 新旧架构（Paper vs Fabric）的兼容性问题，导致构建失败。

## 错误原因
react-native-live-detect-edges@0.3.1 使用了 Fabric 架构（React Native 0.83+），而主项目使用的是 React Native 0.73.0（Paper 架构），两者存在架构不兼容问题。

## 改进措施
1. 在选择第三方库时，必须检查其 React Native 版本兼容性
2. 优先选择支持 Paper 架构或同时支持两种架构的库
3. 在集成新库前，先在小型测试项目中验证兼容性
4. 建立版本兼容性检查清单，在项目开始时就验证所有依赖的兼容性

## 错误描述
JDK 21与Android Gradle Plugin 7.4.2存在兼容性问题，导致构建失败。同时，多个第三方库版本选择不当，导致各种兼容性问题。

## 错误原因
1. JDK 21使用了新的模块系统，与Android SDK的core-for-system-modules.jar不兼容
2. CameraX 1.5.2需要Android API 35和Gradle 8.6.0，但项目使用的是API 34和Gradle 7.4.2
3. OpenCV和React Native都包含libc++_shared.so，导致Native库冲突
4. react-native-screens 4.24.0与React Native 0.73存在类型定义不兼容问题

## 改进措施
1. 在项目开始时确认JDK版本兼容性，React Native 0.73推荐使用JDK 11
2. 选择第三方库时，要仔细检查其与当前项目依赖的兼容性矩阵
3. 对于CameraX等Android官方库，要确保版本与compileSdkVersion和Gradle插件版本匹配
4. 在集成多个Native库时，要考虑可能的符号冲突，提前配置packagingOptions
5. 建立完整的依赖兼容性验证流程，在项目初期就测试所有关键依赖的构建

## 错误描述
原有的Python技能系统无法在Roo环境中真正执行，只是文档参考

## 错误原因
Roo工作在JavaScript/TypeScript环境中，而memory_manager模块是Python实现的，环境隔离导致无法直接执行

## 改进措施
将memory_manager功能重写为TypeScript版本，创建真正的技能执行器，实现与Roo插件的无缝集成
## 错误描述
这是一个测试错误描述

## 错误原因
测试原因分析

## 改进措施
测试解决方案
