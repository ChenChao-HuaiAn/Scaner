---
trigger: always_on
---
1. 中文回复我，写代码添加中文注释。

2. 项目要求模块化、解耦简单、可读性高的结构。
3. 单一职责原则：
每个源代码文件不超过500行（模块可以分多个子模块实现，每个子模块放在各自的子模块目录里，旧的文件，我希望删除它）；
每个函数不超过100行。

4. **Git提交规范**：所有Git提交的标题和描述必须使用中文编写，确保内容清晰明了地说明本次提交的修改内容

5. **更新文档维护**：每次提交前必须更新根目录下的"更新日志.md"文件，具体要求：
   - 覆盖写入当前轮次提交所修改的内容
   - 删除该文档中之前的所有内容，只保留本次更新的说明
   - 文档格式应保持markdown格式，以"## 功能完善总结"为标题开始

6. 推送的远程仓库，就要gitcode和github一起推送。

7. **任务完成前自动记录**：任务完成前，自动触发".roo/skills/memory-record/SKILL.md"技能，将工作进展记录到memory.md文件中。

8. **错误自动记录**：当AI执行命令或工具调用出现错误时，自动触发".roo/skills/ai-error-record/SKILL.md"技能，将错误情况记录到lessons.md文件中。

9. **AI 自我监控要求**：AI 必须在每次工具调用后：
   - 检查结果：确认工具调用是否成功
   - 识别错误：当检测到错误时，分析错误类型、描述、原因
   - 主动记录：调用 ai-error-record 技能记录错误
   - 诚实报告：不得在未完成任务时声称"任务完成"

10. **错误检查清单**：AI 必须遵守 `.roo/checklists/error-checklist.md` 中的错误检查清单，每次工具调用后执行检查。

这些操作应在每次代码提交到develop分支前完成，确保项目文档与代码变更保持同步。
